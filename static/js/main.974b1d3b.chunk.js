(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(t,e,n){t.exports=n(61)},37:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(13),i=n.n(r),s=(n(37),n(2)),c=n(14),l=n(4),u=n(3),d=n(5),p=(n(9),function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task.id,e)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.state={editMode:!1,title:n.props.task.title},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.changeTitle(n.props.task.id,n.state.title)},n.onDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=n.props.task.isDone?"todoList-task done":"todoList-task",e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later"}return a.a.createElement("div",{className:t},a.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?a.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):a.a.createElement("span",{onClick:n.activateEditMode},n.props.task.title),", priority: ",e,a.a.createElement("button",{onClick:n.onDeleteTask},"X"))},n}return Object(d.a)(e,t),e}(a.a.Component)),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map(function(t){return a.a.createElement(p,{task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,deleteTask:n.props.deleteTask})});return a.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(d.a)(e,t),e}(a.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",o="Active"===n.props.filterValue?"filter-active":"";return a.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&a.a.createElement("div",null,a.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),a.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),a.a.createElement("button",{onClick:n.onActiveFilterClick,className:o},"Active")),!n.state.isHidden&&a.a.createElement("span",{onClick:n.onShowFiltersClick},"hide"),n.state.isHidden&&a.a.createElement("span",{onClick:n.onHideFiltersClick},"show"))},n}return Object(d.a)(e,t),e}(a.a.Component),h=n(15),k=n(29);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}var v=n.n(k).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/todo-lists",withCredentials:!0,headers:{"API-KEY":"08777951-79e8-4107-8dc3-392484b36531"}}),O={getTodolists:function(){return v.get("")},updateTask:function(t,e){return v.put("/tasks",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){Object(h.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{},e))},createTodolist:function(t){return v.post("",{title:t})},deleteTodolist:function(t){return v.delete(""+t)},getTasks:function(t){return v.get("/".concat(t,"/tasks"))},createTask:function(t,e){return v.post("/".concat(e,"/tasks"),{title:t})},deleteTask:function(t,e){return v.delete("/tasks/".concat(t))},updateTodoList:function(t,e){return v.put("/".concat(t),{title:e})}},b=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.title},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.changeTodolistTitle(n.props.todolistId,n.state.title)},n.activateEditMode=function(){n.setState({editMode:!0})},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.changeTodolistTitle=function(t,e){O.updateTodoList(t,e).then(function(o){n.props.updateTodoList(t,e)})},n.render=function(){return a.a.createElement("h3",{className:"todoList-header__title"},n.state.editMode?a.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):a.a.createElement("span",{onClick:n.activateEditMode},n.props.title),a.a.createElement("button",{onClick:n.props.onDelete},"X"))},n}return Object(d.a)(e,t),e}(a.a.Component),g=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addItem(t))},n.onTitleChanged=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return a.a.createElement("div",{className:"todoList-newTaskForm"},a.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:n.onTitleChanged,onKeyPress:n.onKeyPress,value:n.state.title}),a.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(d.a)(e,t),e}(a.a.Component),E=n(11),j=n(1),y=n.n(j),w=n(8),S=n(19);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(n,!0).forEach(function(e){Object(h.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var D="TodoList/Reducer/ADD-TASK",A={todolists:[]},I=function(t,e,n,o){return{type:"TodoList/Reducer/UPDATE-TASK",taskId:t,obj:e,todolistId:n}},P=function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todolistId:t}},F=function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",todolistId:e,taskId:t}},N=function(t,e){return{type:D,newTask:t,todolistId:e}},M=function(t,e){return{type:"TodoList/Reducer/SET_TASKS",tasks:t,todolistId:e}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/SET_TASKS":return C({},t,{todolists:t.todolists.map(function(t){return t.id!==e.todolistId?t:C({},t,{tasks:e.tasks})})});case"TodoList/Reducer/SET_TODOLISTS":return C({},t,{todolists:e.todolists.map(function(t){return C({},t,{tasks:[]})})});case"TodoList/Reducer/ADD-TODOLIST":return C({},t,{todolists:[].concat(Object(S.a)(t.todolists),[e.newTodolist])});case"TodoList/Reducer/DELETE-TODOLIST":return C({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todolistId})});case"TodoList/Reducer/DELETE-TASK":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case D:return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId&&t.tasks?C({},t,{tasks:[].concat(Object(S.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/UPDATE-TASK":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:t.tasks.map(function(t){return t.id!==e.taskId?t:C({},t,{},e.obj)})}):t})});case"TodoList/Reducer/UPDATE_TODOLIST":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{title:e.title}):t})})}return console.log("reducer: ",e),t},K=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).saveState=function(){var t=JSON.stringify(n.state);localStorage.setItem("our-state-"+n.props.id,t)},n.restoreState=function(){n.props.getTasksT(n.props.id)},n.state={filterValue:"All"},n.addTask=function(t){n.props.addNewTask(t,n.props.id)},n.changeFilter=function(t){n.setState({filterValue:t},function(){n.saveState()})},n.changeTask=function(t,e){var o=n.props.tasks;n.props.changeTaskNow(t,e,n.props.id,o)},n.changeStatus=function(t,e){n.changeTask(t,{status:e})},n.changeTitle=function(t,e){n.changeTask(t,{title:e})},n.deleteTodolist=function(){n.props.deleteTL(n.props.id)},n.deleteTask=function(t){n.props.deleteTaskNow(t,n.props.id)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return a.a.createElement("div",{className:"todoList"},a.a.createElement("div",{className:"todoList-header"},a.a.createElement(b,{title:n.props.title,todolistId:n.props.id,onDelete:n.deleteTodolist,updateTodoList:n.props.updateTodoList}),a.a.createElement(g,{addItem:n.addTask})),a.a.createElement(f,{changeStatus:n.changeStatus,changeTitle:n.changeTitle,deleteTask:n.deleteTask,tasks:e.filter(function(t){return"All"===n.state.filterValue||("Active"===n.state.filterValue?!1===t.isDone:"Completed"===n.state.filterValue?!0===t.isDone:void 0)})}),a.a.createElement(T,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}))},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),x=Object(E.b)(null,function(t){return{addTask:function(e,n){t(N(e,n))},setTasks:function(e,n){t(M(e,n))},deleteTodolist:function(e){var n=P(e);t(n)},deleteTask:function(e,n){var o=F(n,e);t(o)},updateTodoList:function(e,n){var o=function(t,e){return{type:"TodoList/Reducer/UPDATE_TODOLIST",todolistId:t,title:e}}(e,n);t(o)},getTasksT:function(e){var n;t((n=e,function(){var t=Object(w.a)(y.a.mark(function t(e){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O.getTasks(n).then(function(t){var o=t.data.items;e(M(o,n))});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))},addNewTask:function(e,n){t(function(t,e){return function(){var n=Object(w.a)(y.a.mark(function n(o){return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:O.createTask(t,e).then(function(t){var n=t.data.data.item;o(N(n,e))});case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}(e,n))},deleteTL:function(e){t(function(t){return function(){var e=Object(w.a)(y.a.mark(function e(n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.deleteTodolist(t).then(function(){n(P(t))});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}(e))},deleteTaskNow:function(e,n){t(function(t,e){return function(){var n=Object(w.a)(y.a.mark(function n(o){return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:O.deleteTask(t,e).then(function(n){o(F(t,e))});case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}(e,n))},changeTaskNow:function(e,n,o,a){t(function(t,e,n,o){return function(){var a=Object(w.a)(y.a.mark(function a(r){return y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o.forEach(function(o){o.id===t&&O.updateTask(o,e).then(function(o){r(I(t,e,n))})});case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()}(e,n,o,a))}}})(K),V=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={todolists:[]},n.addTodoList=function(t){n.props.createTodoList(t)},n.restoreState=function(){n.props.getTodolists()},n.render=function(){var t=n.props.todolists.map(function(t){return a.a.createElement(x,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(g,{addItem:n.addTodoList})),a.a.createElement("div",{className:"App"},t))},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),H=Object(E.b)(function(t){return{todolists:t.todolist.todolists}},function(t){return{getTodolists:function(){t(function(){var t=Object(w.a)(y.a.mark(function t(e){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O.getTodolists().then(function(t){e({type:"TodoList/Reducer/SET_TODOLISTS",todolists:t.data})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},createTodoList:function(e){t(function(t){return function(){var e=Object(w.a)(y.a.mark(function e(n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.createTodolist(t).then(function(t){var e=t.data.data.item;n({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:C({},e,{tasks:[]})})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}(e))}}})(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(12),U=n(31),B=Object(_.c)({todolist:R}),J=Object(_.d)(B,Object(_.a)(U.a));i.a.render(a.a.createElement(E.a,{store:J},a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){}},[[32,1,2]]]);
//# sourceMappingURL=main.974b1d3b.chunk.js.map